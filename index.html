<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Love Story - 9 Months ‚ù§Ô∏è</title>
    <!-- YouTube IFrame API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            background: linear-gradient(135deg, #fff5f5 0%, #fdf2f8 50%, #faf5ff 100%);
            color: #4a3728;
            line-height: 1.8;
            min-height: 100vh;
        }

        /* ========== HERO SECTION ========== */
        .hero {
            height: 100vh;
            min-height: 500px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .hero-bg {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, #fecdd3, #ddd6fe);
            background-image: url('files/hero-image.png');
            background-size: cover;
            background-position: center;
            transition: transform 0.3s ease;
        }

        .hero-placeholder {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.5);
            color: white;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 14px;
            backdrop-filter: blur(5px);
            z-index: 1;
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, rgba(0,0,0,0.2), rgba(0,0,0,0.5));
            z-index: 2;
        }

        .hero-content {
            position: relative;
            z-index: 3;
            text-align: center;
            padding: 20px;
            animation: fadeIn 1.5s ease;
        }

        .hero-hearts {
            font-size: 2.5rem;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }

        .hero-title {
            font-size: clamp(1.5rem, 5vw, 3rem);
            color: white;
            font-weight: 300;
            text-shadow: 2px 2px 20px rgba(0,0,0,0.4);
            letter-spacing: 1px;
        }

        .hero-date {
            color: rgba(255,255,255,0.8);
            font-size: 1rem;
            margin-top: 15px;
            font-style: italic;
        }

        .scroll-down {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 3;
            font-size: 2rem;
            cursor: pointer;
            animation: bounce 2s infinite;
            transition: transform 0.3s;
        }

        .scroll-down:hover {
            transform: translateX(-50%) scale(1.2);
        }

        /* ========== VIEW TOGGLE ========== */
        .view-toggle-container {
            position: sticky;
            top: 0;
            z-index: 100;
            background: linear-gradient(to bottom, rgba(253,242,248,0.95), rgba(253,242,248,0));
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .view-toggle-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            background: white;
            border: 2px solid #ec4899;
            border-radius: 50px;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.9rem;
            color: #be185d;
            box-shadow: 0 4px 20px rgba(236,72,153,0.2);
            transition: all 0.3s ease;
        }

        .view-toggle-btn:hover {
            background: #ec4899;
            color: white;
            transform: translateY(-2px);
        }

        /* ========== SECTION STYLES ========== */
        .section {
            padding: 60px 20px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: clamp(1.5rem, 4vw, 2.2rem);
            color: #be185d;
            margin-bottom: 50px;
        }

        .section-title::after {
            content: ' üíï';
        }

        /* ========== TIMELINE VIEW ========== */
        .timeline-container {
            position: relative;
        }

        .timeline-line {
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, #f9a8d4, #c4b5fd, #f9a8d4);
            border-radius: 2px;
            transition: opacity 0.4s ease;
        }

        /* ========== CARDS GRID (Card View) ========== */
        .months-wrapper {
            display: flex;
            flex-direction: column;
            gap: 40px;
            padding-left: 50px;
            transition: all 0.4s ease;
        }

        .months-wrapper.grid-view {
            display: block;
            column-width: 280px;
            column-gap: 25px;
            padding-left: 0;
        }

        .months-wrapper.grid-view ~ .timeline-line {
            opacity: 0;
        }

        /* ========== MONTH CARD ========== */
        .month-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(190,24,93,0.1);
            opacity: 0;
            transform: translateY(40px);
            position: relative;
        }

        .month-card.visible {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .month-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 50px rgba(190,24,93,0.2);
            transition: all 0.3s ease;
        }

        .months-wrapper.grid-view .month-card {
            display: inline-block;
            width: 100%;
            margin: 0 0 25px;
            break-inside: avoid;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .months-wrapper.grid-view .month-card.expanded {
            box-shadow: 0 25px 60px rgba(190,24,93,0.25) !important;
        }

        .months-wrapper.grid-view .month-card:not(.expanded):hover {
            transform: translateY(-6px) scale(1.01) !important;
        }

        .month-card::before {
            content: '';
            position: absolute;
            left: -38px;
            top: 30px;
            width: 18px;
            height: 18px;
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 0 0 4px rgba(236,72,153,0.3);
            transition: all 0.3s ease;
        }

        .months-wrapper.grid-view .month-card::before {
            display: none;
        }

        .month-card:hover::before {
            transform: scale(1.3);
        }

        /* Card Header */
        .card-header {
            padding: 20px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: background 0.3s;
        }

        .months-wrapper:not(.grid-view) .card-header {
            cursor: default;
        }

        .months-wrapper.grid-view .card-header:hover {
            background: #fdf2f8;
        }

        .month-badge {
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            color: white;
            padding: 6px 18px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            letter-spacing: 1px;
        }

        .expand-icon {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
            display: none;
        }

        .months-wrapper.grid-view .expand-icon {
            display: block;
        }

        .month-card.expanded .expand-icon {
            transform: rotate(180deg);
        }

        /* Card Body */
        .card-body {
            padding: 0 25px 25px;
            transition: all 0.4s ease;
        }

        .months-wrapper.grid-view .card-body {
            max-height: 0;
            padding: 0 25px;
            overflow: hidden;
            opacity: 0;
        }

        .months-wrapper.grid-view .month-card.expanded .card-body {
            max-height: 800px;
            padding: 0 25px 25px;
            opacity: 1;
        }

        .month-image {
            width: 100%;
            height: auto;
            min-height: 200px;
            max-height: 400px;
            background: linear-gradient(135deg, #fce7f3, #ede9fe);
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            position: relative;
            overflow: hidden;
        }

        .months-wrapper.grid-view .month-image {
            height: 200px;
            min-height: 200px;
            max-height: 200px;
            background-size: cover;
            background-repeat: no-repeat;
        }

        .image-placeholder {
            background: rgba(255,255,255,0.9);
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.8rem;
            color: #666;
        }

        .memory-text {
            font-style: italic;
            color: #6b7280;
            padding-left: 15px;
            border-left: 3px solid #f9a8d4;
            margin-bottom: 20px;
            line-height: 1.7;
        }

        .audio-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            background: #fdf2f8;
            padding: 12px 18px;
            border-radius: 25px;
            cursor: pointer;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            border: none;
            width: 100%;
            text-align: left;
            font-family: inherit;
        }

        .audio-btn:hover {
            background: #fce7f3;
            transform: translateX(5px);
        }

        .audio-btn.playing {
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            color: white;
        }

        .play-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.75rem;
            flex-shrink: 0;
        }

        .audio-btn.playing .play-icon {
            background: white;
            color: #ec4899;
        }

        .audio-text {
            font-size: 0.85rem;
            color: #be185d;
        }

        .audio-btn.playing .audio-text {
            color: white;
        }

        .secret-song-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: transparent;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.85rem;
            color: #9ca3af;
            transition: all 0.3s ease;
        }

        .secret-song-btn:hover {
            background: #fdf2f8;
            color: #ec4899;
        }

        .secret-song-btn .heart {
            font-size: 1.4rem;
            transition: transform 0.3s;
        }

        .secret-song-btn:hover .heart {
            transform: scale(1.2);
            animation: heartbeat 0.6s infinite;
        }

        .secret-song-btn.playing {
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            color: white;
        }

        /* ========== REASONS SECTION ========== */
        .reasons-section {
            background: linear-gradient(180deg, #fff, #fdf2f8);
            padding: 80px 20px;
        }

        .reasons-list {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .reason-card {
            background: white;
            padding: 35px;
            border-radius: 20px;
            box-shadow: 0 5px 25px rgba(190,24,93,0.08);
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateX(-30px);
            transition: all 0.5s ease;
        }

        .reason-card.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .reason-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(190,24,93,0.15);
        }

        .reason-number {
            position: absolute;
            top: -15px;
            right: 20px;
            font-size: 5rem;
            font-weight: bold;
            color: rgba(236,72,153,0.08);
            pointer-events: none;
        }

        .reason-month {
            color: #ec4899;
            font-size: 0.85rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 12px;
        }

        .reason-text {
            font-family: 'Brush Script MT', 'Segoe Script', cursive;
            font-size: clamp(1.2rem, 3vw, 1.6rem);
            color: #4a3728;
            line-height: 1.5;
        }

        /* ========== COUNTDOWN SECTION ========== */
        .countdown-section {
            padding: 80px 20px;
            text-align: center;
            background: linear-gradient(135deg, #fce7f3, #ede9fe);
        }

        .countdown-subtitle {
            color: #6b7280;
            font-size: 1.1rem;
            margin-bottom: 35px;
        }

        .countdown-boxes {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 35px;
        }

        .countdown-box {
            background: white;
            padding: 20px 30px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(190,24,93,0.15);
            min-width: 90px;
            transition: transform 0.3s;
        }

        .countdown-box:hover {
            transform: translateY(-8px) scale(1.05);
        }

        .countdown-num {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: bold;
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .countdown-label {
            font-size: 0.75rem;
            color: #9ca3af;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .countdown-message {
            font-size: 1.1rem;
            color: #be185d;
            font-style: italic;
        }

        /* Flashing animation for special numbers */
        .countdown-num.flash {
            animation: flashNumber 0.5s ease-in-out infinite alternate;
        }

        @keyframes flashNumber {
            0% {
                opacity: 1;
                transform: scale(1);
                filter: brightness(1);
            }
            100% {
                opacity: 0.3;
                transform: scale(1.1);
                filter: brightness(1.5);
                text-shadow: 0 0 20px rgba(236, 72, 153, 0.8);
            }
        }

        .secret-input-section {
            margin-top: 30px;
            text-align: center;
        }

        .secret-input {
            padding: 12px 20px;
            font-size: 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            background: white;
            color: #374151;
            text-align: center;
            width: 200px;
            transition: all 0.3s ease;
        }

        .secret-input:focus {
            outline: none;
            border-color: #ec4899;
            box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
        }

        .secret-input::placeholder {
            color: #9ca3af;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            animation: slideUp 0.4s ease;
            position: relative;
        }

        #winnerModal {
            z-index: 2000;
        }

        .winner-content {
            position: relative;
            width: min(900px, 92vw);
            height: min(520px, 78vh);
            border: 8px solid white;
            border-radius: 20px;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            overflow: hidden;
            background: white;
            animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .winner-content img {
            width: 100%;
            height: 100%;
            display: block;
            object-fit: contain;
            object-position: center;
        }

        .winner-close {
            position: absolute;
            top: 12px;
            right: 12px;
            background: #ec4899;
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: 4px solid white;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes popIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
            transition: color 0.3s ease;
        }

        .modal-close:hover {
            color: #374151;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* ========== LETTER SECTION ========== */
        .letter-section {
            padding: 80px 20px;
            max-width: 700px;
            margin: 0 auto;
        }

        .letter-paper {
            background: white;
            padding: clamp(25px, 5vw, 50px);
            border-radius: 4px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.1);
            position: relative;
            background-image: repeating-linear-gradient(
                transparent 0px,
                transparent 24px,
                #e5e5e5 24px,
                #e5e5e5 25px
            );
            line-height: 25px;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }

        .letter-paper.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .letter-paper::before {
            content: '';
            position: absolute;
            left: 25px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #fca5a5;
        }

        .letter-date {
            text-align: right;
            color: #9ca3af;
            font-style: italic;
            margin-bottom: 25px;
        }

        .letter-greeting {
            color: #be185d;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .letter-body p {
            margin-bottom: 25px;
            text-indent: 25px;
            color: #4a3728;
        }

        .letter-closing {
            text-align: right;
            margin-top: 35px;
        }

        .letter-signature {
            font-family: 'Brush Script MT', 'Segoe Script', cursive;
            font-size: 1.8rem;
            color: #ec4899;
            margin-top: 8px;
        }

        /* ========== MUSIC SECTION ========== */
        .music-section {
            padding: 60px 20px;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            text-align: center;
        }

        .music-title {
            color: white;
            font-size: 1.4rem;
            margin-bottom: 30px;
        }

        .music-title span {
            color: #ec4899;
        }

        .music-player {
            max-width: 380px;
            margin: 0 auto;
            background: rgba(255,255,255,0.05);
            padding: 25px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .player-display {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .album-cover {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
        }

        .album-cover.spinning {
            animation: spin 4s linear infinite;
        }

        .track-details {
            text-align: left;
        }

        .track-title {
            color: white;
            font-size: 0.95rem;
            margin-bottom: 2px;
        }

        .track-subtitle {
            color: #9ca3af;
            font-size: 0.8rem;
        }

        .progress-track {
            height: 4px;
            background: rgba(255,255,255,0.2);
            border-radius: 2px;
            margin-bottom: 18px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ec4899, #8b5cf6);
            border-radius: 2px;
            transition: width 0.3s;
        }

        .player-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .ctrl-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            padding: 8px;
            transition: all 0.3s;
        }

        .ctrl-btn:hover {
            color: #ec4899;
            transform: scale(1.15);
        }

        .ctrl-btn.main-play {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .ctrl-btn.main-play:hover {
            color: white;
            transform: scale(1.1);
        }

        .embed-note {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            color: #6b7280;
            font-size: 0.8rem;
        }

        /* ========== FOOTER ========== */
        .footer {
            text-align: center;
            padding: 40px 20px;
            background: #fdf2f8;
        }

        .footer-hearts {
            font-size: 2rem;
            margin-bottom: 10px;
            animation: pulse 2s infinite;
        }

        .footer-text {
            color: #9ca3af;
            font-size: 0.9rem;
        }

        /* ========== TOAST ========== */
        .toast {
            position: fixed;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            color: white;
            padding: 14px 28px;
            border-radius: 50px;
            font-size: 0.9rem;
            box-shadow: 0 10px 30px rgba(236,72,153,0.4);
            z-index: 1000;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        /* ========== MAZE MODAL STYLES ========== */
        .maze-modal .modal-content {
            background: linear-gradient(135deg, #fff5f8, #fce7f3);
            padding: 20px;
            border-radius: 20px;
            max-width: 95%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .maze-title {
            color: #ec4899;
            font-size: 1.3rem;
            margin-bottom: 5px;
        }

        .maze-subtitle {
            color: #6b7280;
            font-size: 0.85rem;
            margin-bottom: 15px;
        }

        .maze-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin: 0 auto;
            touch-action: manipulation;
        }

        #mazeCanvas {
            width: 100%;
            height: auto;
            border: 4px solid #ec4899;
            border-radius: 12px;
            background: #fff;
            box-shadow: 0 8px 30px rgba(236,72,153,0.3);
        }

        /* REVERSE T D-PAD CONTROLS */
        .dpad {
            display: grid;
            grid-template-columns: repeat(3, 60px);
            grid-template-rows: repeat(2, 60px);
            gap: 10px;
            justify-content: center;
            margin-top: 25px;
            padding-bottom: 10px;
        }

        .dpad-btn {
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            background: white;
            color: #ec4899;
            border: 2px solid #ec4899;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 4px 0px #f9a8d4;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.1s;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        .dpad-btn:active {
            transform: translateY(4px);
            box-shadow: 0 0px 0px #f9a8d4;
            background: #fdf2f8;
        }

        /* Button Positions for Reverse T */
        .dpad-btn.up { grid-column: 2; grid-row: 1; }
        .dpad-btn.left { grid-column: 1; grid-row: 2; }
        .dpad-btn.down { grid-column: 2; grid-row: 2; }
        .dpad-btn.right { grid-column: 3; grid-row: 2; }

        .maze-message {
            margin-top: 20px;
            color: #be185d;
            text-align: center;
            font-style: italic;
            font-size: 1.1rem;
            font-weight: bold;
            display: none;
            animation: fadeIn 0.8s ease;
        }

        .maze-progress {
            margin-top: 10px;
            text-align: center;
            color: #9ca3af;
            font-size: 0.8rem;
        }

        /* ========== ANIMATIONS ========== */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-12px); }
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.25); }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* ========== PUZZLE SECTION ========== */
        .puzzle-section {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: linear-gradient(135deg, #fce7f3, #ede9fe);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(190,24,93,0.1);
        }

        .puzzle-title {
            color: #be185d;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .puzzle-text, .puzzle-numbers {
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            color: #4a3728;
            margin-bottom: 10px;
        }

        .puzzle-input {
            padding: 12px 20px;
            font-size: 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            background: white;
            color: #374151;
            text-align: center;
            width: 300px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .puzzle-input:focus {
            outline: none;
            border-color: #ec4899;
            box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
        }

        .solve-btn {
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(236,72,153,0.3);
            transition: all 0.3s ease;
        }

        .solve-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(236,72,153,0.4);
        }

        .link-display {
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .link-display a {
            color: #ec4899;
            text-decoration: none;
            font-weight: bold;
        }

        .link-display a:hover {
            text-decoration: underline;
        }

        /* ========== RESPONSIVE ========== */
        @media (max-width: 600px) {
            .months-wrapper {
                padding-left: 40px;
            }

            .timeline-line {
                left: 15px;
                width: 3px;
            }

            .month-card::before {
                left: -33px;
                width: 14px;
                height: 14px;
            }

            .card-header, .card-body {
                padding-left: 20px;
                padding-right: 20px;
            }

            .countdown-box {
                min-width: 75px;
                padding: 15px 20px;
            }

            .letter-paper {
                padding: 20px;
            }

            .letter-paper::before {
                left: 15px;
            }
            
            .dpad-btn {
                width: 55px;
                height: 55px;
            }
            .dpad {
                grid-template-columns: repeat(3, 55px);
                grid-template-rows: repeat(2, 55px);
            }
        }
    </style>
</head>
<body>

    <!-- ==================== HERO ==================== -->
    <section class="hero">
        <div class="hero-bg"></div>
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="hero-hearts">üíï‚ú®üíï</div>
            <h1 class="hero-title">9 Months. Countless memories. One love.</h1>
            <p class="hero-date">Since April 26, 2025</p>
        </div>
        <div class="scroll-down" id="scrollDown">‚¨áÔ∏è</div>
    </section>

    <!-- ==================== VIEW TOGGLE ==================== -->
    <div class="view-toggle-container">
        <button class="view-toggle-btn" id="viewToggle">
            <span id="toggleIcon">üìã</span>
            <span id="toggleText">Switch to Card View</span>
        </button>
    </div>

    <!-- ==================== TIMELINE ==================== -->
    <section class="section" id="timelineSection">
        <h2 class="section-title">Our Journey Together</h2>
        <div class="timeline-container">
            <div class="timeline-line" id="timelineLine"></div>
            <div class="months-wrapper" id="monthsWrapper">

                <!-- MONTH 1 - May 2025 -->
                <article class="month-card">
                    <div class="card-header">
                        <span class="month-badge">May 2025</span>
                        <span class="expand-icon">‚¨áÔ∏è</span>
                    </div>
                    <div class="card-body">
                        <div class="month-image" style="background-image: url('files/month-1.jpg');">
                        </div>
                        <p class="memory-text">"I was so nervous, but the second you smiled, the rest of the world just disappeared. My life will change, and infact it changed me. I have my home now."</p>
                        <button class="audio-btn" data-audio="files/whisper-1.m4a">
                            <span class="play-icon">‚ñ∂</span>
                            <span class="audio-text">üé§ "The first time I met you, I never thought I'd be here now."</span>
                        </button>
                    </div>
                </article>

                <!-- MONTH 2 - June 2025 -->
                <article class="month-card">
                    <div class="card-header">
                        <span class="month-badge">June 2025</span>
                        <span class="expand-icon">‚¨áÔ∏è</span>
                    </div>
                    <div class="card-body">
                        <div class="month-image" style="background-image: url('files/month-2.jpg');">
                        </div>
                        <p class="memory-text">"I was hopeless and down at first yet here we are."</p>
                        <button class="audio-btn" data-audio="files/whisper-2.m4a">
                            <span class="play-icon">‚ñ∂</span>
                            <span class="audio-text">üé§ "You're the greatest gift I received on my birthday."</span>
                        </button>
                    </div>
                </article>

                <!-- MONTH 3 - July 2025 -->
                <article class="month-card">
                    <div class="card-header">
                        <span class="month-badge">July 2025</span>
                        <span class="expand-icon">‚¨áÔ∏è</span>
                    </div>
                    <div class="card-body">
                        <div class="month-image" style="background-image: url('files/month-3.jpg');">
                        </div>
                        <p class="memory-text">"Through thick and thin, I will always be with you."</p>
                        <button class="audio-btn" data-audio="files/whisper-3.m4a">
                            <span class="play-icon">‚ñ∂</span>
                            <span class="audio-text">üé§ "You're the only one I want."</span>
                        </button>
                    </div>
                </article>

                <!-- MONTH 4 - August 2025 -->
                <article class="month-card">
                    <div class="card-header">
                        <span class="month-badge">August 2025</span>
                        <span class="expand-icon">‚¨áÔ∏è</span>
                    </div>
                    <div class="card-body">
                        <div class="month-image" style="background-image: url('files/month-4.jpg');">
                        </div>
                        <p class="memory-text">"You changed me, you made me a better person."</p>
                        <button class="audio-btn" data-audio="files/whisper-4.m4a">
                            <span class="play-icon">‚ñ∂</span>
                            <span class="audio-text">üé§ "I'm really grateful that I found you."</span>
                        </button>
                    </div>
                </article>

                <!-- MONTH 5 - September 2025 -->
                <article class="month-card">
                    <div class="card-header">
                        <span class="month-badge">September 2025</span>
                        <span class="expand-icon">‚¨áÔ∏è</span>
                    </div>
                    <div class="card-body">
                        <div class="month-image" style="background-image: url('files/month-5.jpg');">
                        </div>
                        <p class="memory-text">"Even I'm down, I always have you."</p>
                        <button class="audio-btn" data-audio="files/whisper-5.m4a">
                            <span class="play-icon">‚ñ∂</span>
                            <span class="audio-text">üé§ "I'll always wait for you."</span>
                        </button>
                    </div>
                </article>

                <!-- MONTH 6 - October 2025 -->
                <article class="month-card">
                    <div class="card-header">
                        <span class="month-badge">October 2025</span>
                        <span class="expand-icon">‚¨áÔ∏è</span>
                    </div>
                    <div class="card-body">
                        <div class="month-image" style="background-image: url('files/month-6.jpg');">
                        </div>
                        <p class="memory-text">"I really wish I could be near to you"</p>
                        <button class="audio-btn" data-audio="files/whisper-6.m4a">
                            <span class="play-icon">‚ñ∂</span>
                            <span class="audio-text">üé§ "Happiness is spending time with someone. And that someone is you."</span>
                        </button>
                    </div>
                </article>

                <!-- MONTH 7 - November 2025 -->
                <article class="month-card">
                    <div class="card-header">
                        <span class="month-badge">November 2025</span>
                        <span class="expand-icon">‚¨áÔ∏è</span>
                    </div>
                    <div class="card-body">
                        <div class="month-image" style="background-image: url('files/month-7.jpg');">
                        </div>
                        <p class="memory-text">"And you're always there. To lend a hand."</p>
                        <button class="audio-btn" data-audio="files/whisper-7.m4a">
                            <span class="play-icon">‚ñ∂</span>
                            <span class="audio-text">üé§ "In everything, I do. That's the wonder, wonder of you."</span>
                        </button>
                    </div>
                </article>

                <!-- MONTH 8 - December 2025 -->
                <article class="month-card">
                    <div class="card-header">
                        <span class="month-badge">December 2025</span>
                        <span class="expand-icon">‚¨áÔ∏è</span>
                    </div>
                    <div class="card-body">
                        <div class="month-image" style="background-image: url('files/month-8.jpg');">
                        </div>
                        <p class="memory-text">"That Christmas was Unique. Because it has you in it."</p>
                        <button class="audio-btn" data-audio="files/whisper-8.m4a">
                            <span class="play-icon">‚ñ∂</span>
                            <span class="audio-text">üé§ "You made my life much more better, you are the twinkle that shines my world."</span>
                        </button>
                    </div>
                </article>

                <!-- MONTH 9 - January 2026 -->
                <article class="month-card">
                    <div class="card-header">
                        <span class="month-badge">January 2026</span>
                        <span class="expand-icon">‚¨áÔ∏è</span>
                    </div>
                    <div class="card-body">
                        <div class="month-image" style="background-image: url('files/month-9.jpg');">
                        </div>
                        <p class="memory-text">"To the world, you are one person."</p>
                        <button class="audio-btn" data-audio="files/whisper-9.m4a">
                            <span class="play-icon">‚ñ∂</span>
                            <span class="audio-text">üé§ "To one person, you are the world."</span>
                        </button>
                    </div>
                </article>
                                <!-- MONTH 9 - January 2026 -->
                <article class="month-card">
                    <div class="card-header">
                        <span class="month-badge">February 2026</span>
                        <span class="expand-icon">‚¨áÔ∏è</span>
                    </div>
                    <div class="card-body">
                        <div class="month-image" style="background-image: url('files/month-10.png');">
                        </div>
                        <p class="memory-text">"My Other Half"</p>
                        <button class="audio-btn" data-audio="files/whisper-9.m4a">
                            <span class="play-icon">‚ñ∂</span>
                            <span class="audio-text">üé§ "You are my other half, my love, my everything."</span>
                        </button>
                    </div>
                </article>

            </div>
        </div>
    </section>

    <!-- ==================== REASONS ==================== -->
    <section class="reasons-section">
        <h2 class="section-title">9 Reasons Why I Love You</h2>
        <div class="reasons-list">
            <div class="reason-card">
                <span class="reason-number">1</span>
                <div class="reason-month">May 2025</div>
                <p class="reason-text">S-   Sweetness that's over the roof. Please fight off the ants!!</p>
            </div>
            <div class="reason-card">
                <span class="reason-number">2</span>
                <div class="reason-month">June 2025</div>
                <p class="reason-text">O-   Outstanding among the rest. You are truly a sight for my eyes.</p>
            </div>
            <div class="reason-card">
                <span class="reason-number">3</span>
                <div class="reason-month">July 2025</div>
                <p class="reason-text">U- Unique out of all things. You really a good pair to me</p>
            </div>
            <div class="reason-card">
                <span class="reason-number">4</span>
                <div class="reason-month">August 2025</div>
                <p class="reason-text">L- Love. The love you've given all throughout makes me weak. I really feel you.</p>
            </div>
            <div class="reason-card">
                <span class="reason-number">5</span>
                <div class="reason-month">September 2025</div>
                <p class="reason-text">M- Motivation to keep my life going.</p>
            </div>
            <div class="reason-card">
                <span class="reason-number">6</span>
                <div class="reason-month">October 2025</div>
                <p class="reason-text">A- Angelic. You are heaven sent!!</p>
            </div>
            <div class="reason-card">
                <span class="reason-number">7</span>
                <div class="reason-month">November 2025</div>
                <p class="reason-text">T - Trustworthy. My ever loving partner.</p>
            </div>
            <div class="reason-card">
                <span class="reason-number">8</span>
                <div class="reason-month">December 2025</div>
                <p class="reason-text">E- Extraodinary. Three Unique Words (pertaining to uniqueness) about you isn't enough to say that you are one of a kind.</p>
            </div>
            <div class="reason-card">
                <span class="reason-number">9</span>
                <div class="reason-month">January 2026</div>
                <p class="reason-text">S- Special. You're the only one for me. My partner. My friend. Sometimes my enemy. But always your SOULMATE.</p>
            </div>
                        <div class="reason-card">
                <span class="reason-number">10</span>
                <div class="reason-month">February 2026</div>
                <p class="reason-text">Ich bin dein kleiner Prinz, und du bist jetzt meine kleine Prinzessin üòóüòòü•∞üò≥ü•∫ .</p>
            </div>
        </div>
    </section>

    <!-- ==================== COUNTDOWN ==================== -->
    <section class="countdown-section">
        <h2 class="section-title">Counting Down to Our First Year</h2>
        <p class="countdown-subtitle">Until our 1-year anniversary on April 26, 2026...</p>
        <div class="countdown-boxes">
            <div class="countdown-box">
                <div class="countdown-num" id="countDays">00</div>
                <div class="countdown-label">Days</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-num" id="countHours">00</div>
                <div class="countdown-label">Hours</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-num" id="countMins">00</div>
                <div class="countdown-label">Minutes</div>
            </div>
            <div class="countdown-box">
                <div class="countdown-num" id="countSecs">00</div>
                <div class="countdown-label">Seconds</div>
            </div>
        </div>
        <p class="countdown-message">‚ú® Just 3 more months until our 1-year anniversary‚Ä¶ I can't wait to love you longer. ‚ú®</p>

        <!-- Elements Puzzle -->
        <div class="puzzle-section">
            <h3 class="puzzle-title">Elements Puzzle</h3>
            <p class="puzzle-text">Sa _ Lo _   _  _ R _ A  _ _</p>
            <p class="puzzle-numbers">11    23  42 91  49  19 8</p>
            <input type="text" id="puzzleInput" placeholder="Enter the full phrase" class="puzzle-input">
            <button id="solveBtn" class="solve-btn">Solve</button>
            <div id="linkDisplay" class="link-display" style="display: none;">
                <p>Here's the link: <a href="https://www.canva.com/design/DAHCai0-noE/F79zNqygYCQQqZ8Nb5vd2w/edit?utm_content=DAHCai0-noE&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton" target="_blank">Open in Canva</a></p>
            </div>
        </div>
    </section>

    <!-- ==================== LETTER ==================== -->
    <section class="letter-section">
        <h2 class="section-title">A Letter For You</h2>
        <div class="letter-paper">
            <p class="letter-date">On our 9th Month Together üíï</p>
            <p class="letter-greeting">My Dearest Love,</p>
            <div class="letter-body">
                <p>Happy 9th anniversary my ever loving companion in life. I love you always and please don't change. I love you for who you are and I will always be with you. Sorry if this gift is too simple for you. I can't help and fall madly inlove with you.</p>
                
                <p>Before I always think about that when will this end (because I down myself but not anymore) but now, I really really want to be with you forever. I don't want to leave something that's already my home. I really want to be with you forever.</p>
                
                <p>Even though sometimes misunderstandings and arguments, I still want to stay and I really want to fix it right away. Because you are the most important person that I have. My home. My Everything.</p>
                
                <p>Always remember that I'm always here. I always support you, Nicole.</p>
            </div>
            <div class="letter-closing">
                <p>Forever yours,</p>
                <p class="letter-signature">Elijah June L. Daz</p>
            </div>
        </div>
    </section>

    <!-- ==================== MUSIC ==================== -->
    <section class="music-section">
        <h2 class="music-title">üéµ The <span>Soundtrack</span> of Us üéµ</h2>
        <div class="music-player">
            <div class="player-display">
                <div class="album-cover" id="albumCover">üíø</div>
                <div class="track-details">
                    <div class="track-title">Kay Tagal Kitang Hinitay</div>
                    <div class="track-subtitle">For My Lovely Partner.</div>
                </div>
            </div>
            <div class="progress-track">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="player-controls">
                <button class="ctrl-btn main-play" id="mainPlayBtn">‚ñ∂</button>
            </div>
        </div>
        
        <!-- Local Audio Player -->
        <audio id="local-audio-player" preload="auto">
            <source src="files/kay-tagal-kitang-hinintay.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        
        <!-- Copyright Notice -->
        <div style="text-align: center; margin-top: 20px; font-size: 0.75rem; color: rgba(255,255,255,0.6);">
            <p>üéµ "Kay Tagal Kitang Hinintay" by Sponge Cola</p>
            <p>¬© All rights reserved. ‚Ñ¢ Trademark of respective owners.</p>
            <p>Used for educational/personal purposes under fair use.</p>
        </div>
    </section>

    <!-- ==================== FOOTER ==================== -->
    <footer class="footer">
        <div class="footer-hearts">üíïüíñüíï</div>
        <p class="footer-text">Made with infinite love</p>
        <p class="footer-text">Here's to forever ‚ú®</p>
        
        <!-- Secret Input Section -->
        <div class="secret-input-section">
            <input type="text" class="secret-input" id="secretInput" placeholder="Enter secret code" maxlength="3">
        </div>
    </footer>

    <!-- ==================== TOAST ==================== -->
    <div class="toast" id="toast">üíó Playing our song...</div>

    <!-- ==================== MAZE MODAL ==================== -->
    <div class="modal maze-modal" id="mazeModal">
        <div class="modal-content">
            <button class="modal-close" id="mazeClose">√ó</button>
            
            <h2 class="maze-title">üß© Find Your Way to Me ‚ù§Ô∏è</h2>
            <p class="maze-subtitle">Navigate the daisy to reveal our memory...</p>
            
            <div class="maze-container">
                <canvas id="mazeCanvas" width="450" height="450"></canvas>
            </div>
            
            <p class="maze-progress" id="mazeProgress">Steps taken: 0</p>
            
            <!-- REVERSE T DPAD CONTROLS -->
            <div class="dpad">
                <button class="dpad-btn up" data-dir="up">‚ñ≤</button>
                <button class="dpad-btn left" data-dir="left">‚óÄ</button>
                <button class="dpad-btn down" data-dir="down">‚ñº</button>
                <button class="dpad-btn right" data-dir="right">‚ñ∂</button>
            </div>
            
            <p class="maze-message" id="mazeMessage">
                üíñ Every petal led me to you. Forever yours. üíï
            </p>
        </div>
    </div>

    <div class="modal" id="winnerModal">
        <div class="winner-content">
            <button class="winner-close" id="winnerClose">‚úñ</button>
            <img id="winningImage" src="files/for_my_maze.png" alt="Memory">
        </div>
    </div>

    <!-- Confetti Canvas -->
    <canvas id="confettiCanvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; display: none;"></canvas>

    <script>
        // ===== ELEMENTS =====
        const scrollDown = document.getElementById('scrollDown');
        const viewToggle = document.getElementById('viewToggle');
        const toggleIcon = document.getElementById('toggleIcon');
        const toggleText = document.getElementById('toggleText');
        const monthsWrapper = document.getElementById('monthsWrapper');
        const timelineLine = document.getElementById('timelineLine');
        const monthCards = document.querySelectorAll('.month-card');
        const reasonCards = document.querySelectorAll('.reason-card');
        const letterPaper = document.querySelector('.letter-paper');
        const toast = document.getElementById('toast');
        const mainPlayBtn = document.getElementById('mainPlayBtn');
        const albumCover = document.getElementById('albumCover');
        const progressBar = document.getElementById('progressBar');
        const solveBtn = document.getElementById('solveBtn');
        const puzzleInput = document.getElementById('puzzleInput');
        const linkDisplay = document.getElementById('linkDisplay');

        let isCardView = false;
        let isMainPlaying = false;
        let progressInterval = null;

        // ===== SCROLL TO TIMELINE =====
        scrollDown.addEventListener('click', function() {
            document.getElementById('timelineSection').scrollIntoView({ behavior: 'smooth' });
        });

        // ===== VIEW TOGGLE =====
        viewToggle.addEventListener('click', function() {
            isCardView = !isCardView;
            
            if (isCardView) {
                monthsWrapper.classList.add('grid-view');
                timelineLine.style.opacity = '0';
                toggleIcon.textContent = 'üìú';
                toggleText.textContent = 'Switch to Timeline View';
                monthCards.forEach(function(card) {
                    card.classList.remove('expanded');
                });
            } else {
                monthsWrapper.classList.remove('grid-view');
                timelineLine.style.opacity = '1';
                toggleIcon.textContent = 'üìã';
                toggleText.textContent = 'Switch to Card View';
            }
        });

        // ===== CARD EXPAND/COLLAPSE =====
        monthCards.forEach(function(card) {
            const header = card.querySelector('.card-header');
            header.addEventListener('click', function() {
                if (isCardView) {
                    const willExpand = !card.classList.contains('expanded');
                    monthCards.forEach(function(otherCard) {
                        if (otherCard !== card) {
                            otherCard.classList.remove('expanded');
                        }
                    });
                    if (willExpand) {
                        card.classList.add('expanded');
                    } else {
                        card.classList.remove('expanded');
                    }
                }
            });
        });

        // ===== SCROLL ANIMATIONS =====
        function handleScroll() {
            const triggerBottom = window.innerHeight * 0.85;

            monthCards.forEach(function(card) {
                const cardTop = card.getBoundingClientRect().top;
                if (cardTop < triggerBottom) {
                    card.classList.add('visible');
                }
            });

            reasonCards.forEach(function(card) {
                const cardTop = card.getBoundingClientRect().top;
                if (cardTop < triggerBottom) {
                    card.classList.add('visible');
                }
            });

            const letterTop = letterPaper.getBoundingClientRect().top;
            if (letterTop < triggerBottom) {
                letterPaper.classList.add('visible');
            }
        }

        window.addEventListener('scroll', handleScroll);
        window.addEventListener('load', handleScroll);

        // ===== AUDIO BUTTONS =====
        document.querySelectorAll('.audio-btn').forEach(function(btn) {
            btn.addEventListener('click', function() {
                const wasPlaying = btn.classList.contains('playing');
                const audioFile = btn.getAttribute('data-audio');
                
                document.querySelectorAll('.audio-btn').forEach(function(b) {
                    b.classList.remove('playing');
                    b.querySelector('.play-icon').textContent = '‚ñ∂';
                });
                
                if (window.currentAudio) {
                    window.currentAudio.pause();
                    window.currentAudio = null;
                }
                
                if (!wasPlaying && audioFile) {
                    const audio = new Audio(audioFile);
                    window.currentAudio = audio;
                    
                    audio.addEventListener('ended', function() {
                        btn.classList.remove('playing');
                        btn.querySelector('.play-icon').textContent = '‚ñ∂';
                        window.currentAudio = null;
                    });
                    
                    audio.addEventListener('error', function() {
                        showToast('‚ùå Could not load audio file');
                        btn.classList.remove('playing');
                        btn.querySelector('.play-icon').textContent = '‚ñ∂';
                        window.currentAudio = null;
                    });
                    
                    audio.play().then(function() {
                        btn.classList.add('playing');
                        btn.querySelector('.play-icon').textContent = '‚è∏';
                        showToast('üé§ Playing voice message...');
                    }).catch(function(error) {
                        showToast('‚ùå Could not play audio');
                        window.currentAudio = null;
                    });
                }
            });
        });

        // ===== MAIN MUSIC PLAYER =====
        const audioPlayer = document.getElementById('local-audio-player');
        
        mainPlayBtn.addEventListener('click', function() {
            if (!audioPlayer) return;
            if (audioPlayer.paused) {
                audioPlayer.play().then(function() {
                    mainPlayBtn.textContent = '‚è∏';
                    albumCover.classList.add('spinning');
                    showToast('üéµ Playing our song...');
                });
            } else {
                audioPlayer.pause();
                mainPlayBtn.textContent = '‚ñ∂';
                albumCover.classList.remove('spinning');
            }
        });

        audioPlayer.addEventListener('timeupdate', function() {
            if (audioPlayer.duration) {
                const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                progressBar.style.width = progress + '%';
            }
        });

        // ===== PUZZLE SOLVE =====
        solveBtn.addEventListener('click', function() {
            const answer = puzzleInput.value.trim().toLowerCase();
            const correctAnswer = "sana love mo pa rin ako";
            if (answer === correctAnswer) {
                linkDisplay.style.display = 'block';
                showToast('üéâ Correct! Here\'s your link.');
            } else {
                showToast('‚ùå Try again!');
            }
        });

        // ===== TOAST =====
        function showToast(message) {
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(function() {
                toast.classList.remove('show');
            }, 3000);
        }

        // ===== COUNTDOWN =====
        function updateCountdown() {
            const anniversary = new Date('2026-04-26T00:00:00');
            const now = new Date();
            const diff = anniversary - now;

            if (diff > 0) {
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const secs = Math.floor((diff % (1000 * 60)) / 1000);

                document.getElementById('countDays').textContent = String(days).padStart(2, '0');
                document.getElementById('countHours').textContent = String(hours).padStart(2, '0');
                document.getElementById('countMins').textContent = String(mins).padStart(2, '0');
                document.getElementById('countSecs').textContent = String(secs).padStart(2, '0');
            }
        }
        setInterval(updateCountdown, 1000);

        // ===== MAZE GAME LOGIC =====
        const mazeModal = document.getElementById('mazeModal');
        const mazeClose = document.getElementById('mazeClose');
        const winnerModal = document.getElementById('winnerModal');
        const winnerClose = document.getElementById('winnerClose');
        const mazeCanvas = document.getElementById('mazeCanvas');
        const mazeCtx = mazeCanvas.getContext('2d');
        const dpadButtons = document.querySelectorAll('.dpad-btn');
        const mazeMessage = document.getElementById('mazeMessage');
        const mazeProgress = document.getElementById('mazeProgress');
        const secretInput = document.getElementById('secretInput');

        const MAZE_SIZE = 15; 
        const CELL_SIZE = mazeCanvas.width / MAZE_SIZE;
        
        // DAISY SHAPED MAZE (1 = wall, 0 = path)
        const daisyLayout = [
            [1,1,1,1,1,1,0,0,0,1,1,1,1,1,1],
            [1,1,1,1,0,0,0,0,0,0,0,1,1,1,1],
            [1,1,1,0,0,1,1,1,1,1,0,0,1,1,1],
            [1,1,0,0,1,0,0,0,0,0,1,0,0,1,1],
            [1,0,0,1,0,0,1,1,1,0,0,1,0,0,1],
            [1,0,1,0,0,1,0,0,0,1,0,0,1,0,1],
            [0,0,1,0,1,0,0,1,0,0,1,0,1,0,0],
            [0,0,1,0,0,0,1,0,1,0,0,0,1,0,0],
            [0,0,1,0,1,0,0,1,0,0,1,0,1,0,0],
            [1,0,1,0,0,1,0,0,0,1,0,0,1,0,1],
            [1,0,0,1,0,0,1,1,1,0,0,1,0,0,1],
            [1,1,0,0,1,0,0,0,0,0,1,0,0,1,1],
            [1,1,1,0,0,1,1,1,1,1,0,0,1,1,1],
            [1,1,1,1,0,0,0,0,0,0,0,1,1,1,1],
            [1,1,1,1,1,1,0,0,0,1,1,1,1,1,1]
        ];

        // Guarantee a path to the center heart (x=7, y=7)
        for (let y = 0; y <= 7; y++) {
            daisyLayout[y][7] = 0;
        }
        daisyLayout[7][7] = 0;

        let playerPos = { x: 7, y: 0 };
        const PLAYER_END = { x: 7, y: 7 };
        let stepsTaken = 0;
        let mazeSolved = false;
        let revealOpacity = 1.0;

        const HIDDEN_IMAGE = new Image();
        HIDDEN_IMAGE.src = "files/for_my_maze.png";

        const FOG_LAYER = document.createElement('canvas');
        FOG_LAYER.width = mazeCanvas.width;
        FOG_LAYER.height = mazeCanvas.height;
        const fogCtx = FOG_LAYER.getContext('2d');

        function drawFog() {
            fogCtx.globalCompositeOperation = 'source-over';
            fogCtx.fillStyle = 'rgba(255, 245, 248, 0.9)';
            fogCtx.fillRect(0, 0, FOG_LAYER.width, FOG_LAYER.height);
        }

        function eraseFogAt(x, y) {
            fogCtx.globalCompositeOperation = 'destination-out';
            fogCtx.beginPath();
            fogCtx.arc(x * CELL_SIZE + CELL_SIZE/2, y * CELL_SIZE + CELL_SIZE/2, CELL_SIZE * 1.5, 0, Math.PI * 2);
            fogCtx.fill();
        }

        function drawMaze() {
            mazeCtx.clearRect(0, 0, mazeCanvas.width, mazeCanvas.height);
            
            // Background Image (always visible)
            mazeCtx.globalAlpha = 1;
            mazeCtx.drawImage(HIDDEN_IMAGE, 0, 0, mazeCanvas.width, mazeCanvas.height);

            // Dim overlay so the image starts subtle and slowly becomes clearer
            // (as revealOpacity decreases)
            mazeCtx.fillStyle = `rgba(255, 255, 255, ${0.55 * revealOpacity})`;
            mazeCtx.fillRect(0, 0, mazeCanvas.width, mazeCanvas.height);
            
            // Draw walls with smooth reveal opacity
            mazeCtx.fillStyle = `rgba(236, 72, 153, ${revealOpacity})`;
            for (let y = 0; y < MAZE_SIZE; y++) {
                for (let x = 0; x < MAZE_SIZE; x++) {
                    if (daisyLayout[y][x] === 1) {
                        mazeCtx.fillRect(x * CELL_SIZE, y * CELL_SIZE, CELL_SIZE, CELL_SIZE);
                    }
                }
            }
            
            // Fog
            mazeCtx.globalAlpha = revealOpacity;
            mazeCtx.drawImage(FOG_LAYER, 0, 0);
            mazeCtx.globalAlpha = 1.0;
            
            if (!mazeSolved) {
                // Player
                mazeCtx.fillStyle = '#34d399';
                mazeCtx.beginPath();
                mazeCtx.arc(playerPos.x * CELL_SIZE + CELL_SIZE/2, playerPos.y * CELL_SIZE + CELL_SIZE/2, CELL_SIZE/3, 0, Math.PI * 2);
                mazeCtx.fill();
                
                // End Point
                mazeCtx.fillStyle = '#fbbf24';
                mazeCtx.font = "20px Arial";
                mazeCtx.fillText("‚ù§Ô∏è", PLAYER_END.x * CELL_SIZE + 2, PLAYER_END.y * CELL_SIZE + CELL_SIZE - 5);
            }
        }

        function smoothReveal() {
            if (revealOpacity > 0) {
                revealOpacity -= 0.006;
                if (revealOpacity < 0) revealOpacity = 0;
                drawMaze();
                requestAnimationFrame(smoothReveal);
            } else {
                mazeMessage.style.display = 'block';
                launchConfetti();
            }
        }

        function movePlayer(dir) {
            if (mazeSolved) return;
            let nX = playerPos.x, nY = playerPos.y;
            if (dir === 'up') nY--; if (dir === 'down') nY++; if (dir === 'left') nX--; if (dir === 'right') nX++;

            if (nX >= 0 && nY >= 0 && nX < MAZE_SIZE && nY < MAZE_SIZE && daisyLayout[nY][nX] === 0) {
                playerPos = { x: nX, y: nY };
                stepsTaken++;
                mazeProgress.textContent = `Steps taken: ${stepsTaken}`;
                eraseFogAt(nX, nY);
                drawMaze();
                if (playerPos.x === PLAYER_END.x && playerPos.y === PLAYER_END.y) {
                    mazeSolved = true;
                    winnerModal.classList.add('show');
                }
            }
        }

        winnerClose.addEventListener('click', function() {
            winnerModal.classList.remove('show');
            smoothReveal();
        });

        secretInput.addEventListener('input', function() {
            if (this.value === '358') { showMazeModal(); this.value = ''; }
        });

        function showMazeModal() {
            mazeModal.classList.add('show');
            playerPos = { x: 7, y: 0 };
            stepsTaken = 0;
            mazeSolved = false;
            revealOpacity = 1.0;
            mazeMessage.style.display = 'none';
            drawFog();
            eraseFogAt(7, 0);
            drawMaze();
        }

        dpadButtons.forEach(btn => btn.addEventListener('click', () => movePlayer(btn.dataset.dir)));
        document.addEventListener('keydown', (e) => {
            if (!mazeModal.classList.contains('show')) return;
            if (e.key === 'ArrowUp') movePlayer('up'); if (e.key === 'ArrowDown') movePlayer('down');
            if (e.key === 'ArrowLeft') movePlayer('left'); if (e.key === 'ArrowRight') movePlayer('right');
        });

        mazeClose.addEventListener('click', () => mazeModal.classList.remove('show'));
        HIDDEN_IMAGE.onload = drawMaze;

        // ===== CONFETTI =====
        function launchConfetti() {
            confettiCanvas.style.display = 'block';
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;
            const confetti = [];
            const colors = ['#ec4899', '#8b5cf6', '#fbbf24', '#34d399'];
            for (let i = 0; i < 150; i++) {
                confetti.push({
                    x: Math.random() * confettiCanvas.width, y: Math.random() * confettiCanvas.height - confettiCanvas.height,
                    vx: Math.random() * 6 - 3, vy: Math.random() * 3 + 2, size: Math.random() * 8 + 5,
                    color: colors[Math.floor(Math.random() * colors.length)], angle: Math.random() * 360, angleSpeed: Math.random() * 10 - 5
                });
            }
            function animate() {
                ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
                confetti.forEach((p, i) => {
                    p.x += p.vx; p.y += p.vy; p.vy += 0.1; p.angle += p.angleSpeed;
                    ctx.save(); ctx.translate(p.x, p.y); ctx.rotate(p.angle * Math.PI / 180);
                    ctx.fillStyle = p.color; ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size); ctx.restore();
                    if (p.y > confettiCanvas.height) confetti.splice(i, 1);
                });
                if (confetti.length > 0) requestAnimationFrame(animate); else confettiCanvas.style.display = 'none';
            }
            const ctx = confettiCanvas.getContext('2d');
            animate();
        }
    </script>
</body>
</html>